function afficheMenu(obj){
	
	var idMenu     = obj.id;
	var idSousMenu = 'sous' + idMenu;
	var sousMenu   = document.getElementById(idSousMenu);
	
	/*****************************************************/
	/**	on cache tous les sous-menus pour n'afficher    **/
	/** que celui dont le menu correspondant est cliqu?**/
	/** o?4 correspond au nombre de sous-menus         **/
	/*****************************************************/
	for(var i = 1; i <= 4; i++){
		if(document.getElementById('sousmenu' + i) && document.getElementById('sousmenu' + i) != sousMenu){
			document.getElementById('sousmenu' + i).style.display = "none";
		}
	}
	
	if(sousMenu){
		//alert(sousMenu.style.display);
		if(sousMenu.style.display == "block"){
			sousMenu.style.display = "none";
		}
		else{
			sousMenu.style.display = "block";
		}
	}
}

function FactoryDefaultsConfirm(defSsid24G, defSsid5G, defGuestSsid24G)
{
	var popUpFactoryDefaults=WarningResetFactoryDefault + defSsid24G + ' & ' + defSsid5G + WarningWifiGuestNetwork + defGuestSsid24G;
	if( confirm(popUpFactoryDefaults) )
	{
		return true;
	}
	return false;
}

function rebootConfirm()
{
	if(confirm(WarningReboot)) {
		return true;
	}
	return false;
}

var MenuBar1 = new Spry.Widget.MenuBar("MenuBar1", {
    imgDown : "SpryAssets/SpryMenuBarDownHover.gif",
    imgRight : "SpryAssets/SpryMenuBarRightHover.gif"
});

function menubarAddFocus() {
    var a_url = document.URL.split("/");
	var s_key;
	
    $("#MenuBar1 > li > a").each(function(i) {
        s_key = $(this).attr("href").replace(".html", "");
        if (a_url[a_url.length-1].match(s_key)) {
            if ((a_url[a_url.length-1] == "wifi-pa2-reseauinvite.html") && (s_key == "reseau")) {
                return true;
            }
            
            $(this).addClass("menuactive");
            return false;
        }
    });
}

function getQueryVariable(variable)
{
    var query = window.location.search.substring(1);
    var vars = query.split("&");
    for (var i=0;i<vars.length;i++) {
         var pair = vars[i].split("=");
         if(pair[0] == variable){return pair[1];}
    }
    return(false);
}

function checkSessionKey(form)
{
    var tmp = form.action;
    if(tmp.indexOf("?sessionKey") == -1)
        form.action = tmp + "?sessionKey="+SessionKey;
    return true;  
}

function checksubmit()
{
    var langform=document.getElementById("langform");
    checkSessionKey(langform);    
    langform.submit();
}
